<!DOCTYPE html>
<html>
<head>
	<title>Weather app</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">

</head>
<body>
<section>
	<article class="background"></article>
	<article class="weather">
		<div class="content">
			<p class="location text-white"></p>
			<p class="temperature text-white"></p>
				<img class="img" width="50" height="50">
				<p class="desc text-white"></p>
			<!-- <div class="list"> -->
				<ul class="text-white">
					<li class="wind-speed"></li>
					<!-- <li class="temp-fer">75°F</li> -->
					<li class="humidity"></li>
				</ul>
			<!-- </div> -->
		</div>
	</article>
</section>
</body>
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js'></script>
</html>

<script type="text/javascript" src='icons.js'></script>
<script type="text/javascript">
	const city = document.querySelector('.location');
	const temperature = document.querySelector('.temperature');
	const desc = document.querySelector('.desc');
	const img = document.querySelector('.img');
	const wind = document.querySelector('.wind-speed');
	const fer = document.querySelector('.temp-fer');
	const humidity = document.querySelector('.humidity');
	let latitude;
	let longitude;

	function getUrl(lat, lon){
		return `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=7ff247e9ce6e9fe018b6f6814a6bdf85&units=metric`
	}
	if (window.navigator.geolocation) {
		window.navigator.geolocation.getCurrentPosition((position)=>{
			latitude = position.coords.latitude
			longitude = position.coords.longitude

			axios({
				method: "GET",
				url: getUrl(latitude,longitude)

			}).then((res)=>{
				city.innerText = res.data.name;
				temperature.innerText = `${res.data.main.temp}°`;
				desc.innerText = res.data.weather[0].description;
				img.src = `https://openweathermap.org/img/wn/${res.data.weather[0].icon}.png`;
				wind.innerHTML = `${icons.wind_speed}${res.data.wind.speed}km/h`;
				humidity.innerHTML = `${icons.humidity}${res.data.main.humidity}%`;
			})

			// Set the background image based on the current weather
			// Clear sky 01n
			// Sunny with clouds 02n
			// Clouds 03n 04n
			// Rain  09n 10n 11n
			// Snow 13n
			// Mist 50n
		})
	}


</script>